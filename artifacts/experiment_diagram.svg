<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#4a90d9"/>
      <stop offset="100%" style="stop-color:#7b68ee"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="800" height="500" fill="#f8f9fa"/>

  <!-- Title -->
  <rect x="0" y="0" width="800" height="60" fill="url(#headerGrad)"/>
  <text x="400" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" fill="white" font-weight="bold">
    TensorLogic LLM Tool-Use Experiment
  </text>

  <!-- LLM Box -->
  <rect x="50" y="100" width="180" height="100" rx="10" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
  <text x="140" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1976d2">LLM Agent</text>
  <text x="140" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">GPT-5.2 / Claude</text>
  <text x="140" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">Gemini / etc.</text>

  <!-- Arrow 1: LLM to JSON -->
  <line x1="230" y1="150" x2="280" y2="150" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="255" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">constructs</text>

  <!-- JSON Request Box -->
  <rect x="290" y="100" width="180" height="100" rx="10" fill="#fff3e0" stroke="#f57c00" stroke-width="2"/>
  <text x="380" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#f57c00">JSON Request</text>
  <text x="380" y="155" text-anchor="middle" font-family="monospace" font-size="10" fill="#333">{program, facts,</text>
  <text x="380" y="170" text-anchor="middle" font-family="monospace" font-size="10" fill="#333">config}</text>
  <text x="380" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">ad-hoc Datalog</text>

  <!-- Arrow 2: JSON to TensorLogic -->
  <line x1="470" y1="150" x2="520" y2="150" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="495" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">stdin</text>

  <!-- TensorLogic Box -->
  <rect x="530" y="80" width="220" height="140" rx="10" fill="#e8f5e9" stroke="#388e3c" stroke-width="2"/>
  <text x="640" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#388e3c">TensorLogic Engine</text>
  <text x="640" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">Certified Lean 4</text>
  <line x1="550" y1="150" x2="730" y2="150" stroke="#388e3c" stroke-width="1"/>
  <text x="640" y="170" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">Boolean (OR)</text>
  <text x="640" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">F2 (XOR) - exact solver</text>
  <text x="640" y="200" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">Fuzzy / Heyting</text>

  <!-- Arrow 3: TensorLogic to Response -->
  <path d="M 640 220 L 640 260 L 380 260 L 380 280" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="510" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">stdout</text>

  <!-- JSON Response Box -->
  <rect x="290" y="290" width="180" height="100" rx="10" fill="#fce4ec" stroke="#c2185b" stroke-width="2"/>
  <text x="380" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#c2185b">JSON Response</text>
  <text x="380" y="345" text-anchor="middle" font-family="monospace" font-size="10" fill="#333">{status, facts,</text>
  <text x="380" y="360" text-anchor="middle" font-family="monospace" font-size="10" fill="#333">bundle_hash}</text>
  <text x="380" y="380" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">deterministic output</text>

  <!-- Arrow 4: Response to LLM -->
  <path d="M 290 340 L 140 340 L 140 200" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="200" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">interprets</text>

  <!-- Scorer Box -->
  <rect x="530" y="290" width="220" height="100" rx="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
  <text x="640" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#7b1fa2">Automated Scorer</text>
  <text x="640" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">score.py</text>
  <text x="640" y="365" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">Precision / Recall / F1</text>
  <text x="640" y="380" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">vs. Reference Solutions</text>

  <!-- Arrow 5: Response to Scorer -->
  <line x1="470" y1="340" x2="520" y2="340" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Task Categories -->
  <rect x="50" y="280" width="180" height="120" rx="10" fill="#fff8e1" stroke="#ffa000" stroke-width="2"/>
  <text x="140" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ffa000">Task Categories</text>
  <text x="140" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">A: Forward Inference</text>
  <text x="140" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">B: Semantic Comparison</text>
  <text x="140" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">C: Program Debugging</text>
  <text x="140" y="390" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">D: Meta-Analysis</text>

  <!-- Key Finding Box -->
  <rect x="50" y="420" width="700" height="60" rx="5" fill="#e8eaf6" stroke="#3f51b5" stroke-width="2"/>
  <text x="400" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3f51b5">Key Finding: F2 solver correctly detects inconsistent XOR systems</text>
  <text x="400" y="465" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">For q :- p, p :- q with p=1: reports "no fixed point" because p = 1 XOR p has no solution in GF(2)</text>
</svg>
